<div ng-controller="NewMovieController">
    <h1>New Movie</h1>
    <form name="movieForm" novalidate class="form-horizontal" ng-submit="saveMovie()">
        <div class="form-group" ng-class="{ 'has-success': movieForm.title.$valid, 'has-error': movieForm.title.$invalid && movieForm.title.$dirty}">
            <label for="title" class="col-sm-2 control-label">Title</label>
            <div class="col-sm-10">
                <input type="text" name="title" ng-model="model.title" class="form-control" required>
                <div class="text-danger" ng-show="movieForm.title.$dirty && movieForm.title.$error.required">
                    The title is required.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="poster_url" class="col-sm-2 control-label">Poster URL</label>
            <div class="col-sm-10">
                <input type="url" name="poster_url" ng-model="model.poster_url" class="form-control" required>
                <div class="text-danger" ng-show="movieForm.poster_url.$dirty && movieForm.poster_url.$error.required">
                    The poster URL is required.
                </div>
                <div class="text-danger" ng-show="movieForm.poster_url.$dirty && movieForm.poster_url.$error.url">
                    The poster URL is invalid.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="video_url" class="col-sm-2 control-label">Video URL</label>
            <div class="col-sm-10">
                <input type="url" name="video_url" ng-model="model.video_url" class="form-control" required>
                <div class="text-danger" ng-show="movieForm.video_url.$dirty && movieForm.video_url.$error.required">
                    The video URL is required.
                </div>
                <div class="text-danger" ng-show="movieForm.video_url.$dirty && movieForm.video_url.$error.url">
                    The video URL is invalid.
                </div>
            </div>
        </div>    
        <div class="form-group">
            <label for="overview" class="col-sm-2 control-label">Overview</label>
            <div class="col-sm-10">
                <textarea badwords name="overview" ng-model="model.overview" class="form-control" rows="10" required></textarea>
                <div class="text-danger" ng-show="movieForm.overview.$dirty && movieForm.overview.$error.required">
                    The overview is required.
                </div>
                <div class="text-danger" ng-show="movieForm.overview.$dirty && movieForm.overview.$error.badwords">
                    The word "{{movieForm.overview.badword}}" is not allowed
                </div>
            </div>
        </div>
        <div>
            <button class="btn btn-primary pull-right" type="submit" ng-disabled="movieForm.$invalid">Crear</button>
        </div>
    </form>
</div>
